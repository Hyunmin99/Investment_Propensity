{"ast":null,"code":"import _toConsumableArray from\"/Users/kwonhyunmin/Documents/GitHub/Investment_Propensity/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/kwonhyunmin/Documents/GitHub/Investment_Propensity/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import FormControl from\"@mui/material/FormControl\";import{Box,Input}from\"@mui/material\";import{ComposedChart,XAxis,YAxis,Tooltip,CartesianGrid,Line}from\"recharts\";import{RCompoundContribution}from\"../calculate/Calculator\";import{ROUNDTWO,MUTUAL,FV,COMPOUND}from\"../calculate/Formula\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Retirement(_ref){var Pro=_ref.Pro,Age=_ref.Age;var _useState=useState(Age),_useState2=_slicedToArray(_useState,2),PresentAge=_useState2[0],getPresentAge=_useState2[1];//현재나이\nvar _useState3=useState(70),_useState4=_slicedToArray(_useState3,2),RetireAge=_useState4[0],getRetireAge=_useState4[1];//은퇴나이\nvar _useState5=useState(15),_useState6=_slicedToArray(_useState5,2),ReceivePeriod=_useState6[0],getReceivePeriod=_useState6[1];//수령기간\nvar _useState7=useState(180),_useState8=_slicedToArray(_useState7,2),MonthExpense=_useState8[0],getMonthExpense=_useState8[1];//월 노후 생활비\nvar _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),P=_useState10[0],getP=_useState10[1];//초기 투자 금액\nvar PMT=0;//년 적립 금액\nvar GoalMoney=0;//목표 금액\nvar AccumulatePeriod=RetireAge-PresentAge;//적립기간 (현재 ~ 은퇴 전)\nvar exceptP=0;//SUM - Compund(P) : 년 적립 금액 구하기 위함\nconsole.log(\"******은퇴 계산기******\");console.log(\"현재 나이:\",PresentAge);console.log(\"은퇴 연령:\",RetireAge);console.log(\"적립 기간:\",AccumulatePeriod);console.log(\"은퇴 자금 수령 기간:\",ReceivePeriod);console.log(\"월 생활비:\",MonthExpense);var handlePresentAge=function handlePresentAge(event){getPresentAge(parseInt(event.target.value));};var handleRetireAge=function handleRetireAge(event){getRetireAge(parseInt(event.target.value));};var handleReceivePeriod=function handleReceivePeriod(event){getReceivePeriod(parseInt(event.target.value));};var handleMonthExpense=function handleMonthExpense(event){getMonthExpense(parseInt(event.target.value));};var handleP=function handleP(event){getP(parseInt(event.target.value));};var Formatter=function Formatter(tickItem){var Money=tickItem;var units=[\"만원\",\"억원\"];var unitIndex=0;while(Money>=10000&&unitIndex<units.length-1){unitIndex+=1;Money/=10000;Money=ROUNDTWO(Money);}return\"\".concat(Money.toLocaleString()).concat(units[unitIndex]);};//Goal 금액 정하기, 수령기간 데이터 만들기\nvar ReceiveYears=[];if(isNaN(ReceivePeriod)){ReceiveYears=_toConsumableArray(new Array(0)).map(function(_,i){return AccumulatePeriod+i+1;}).reverse();}else{ReceiveYears=_toConsumableArray(new Array(ReceivePeriod)).map(function(_,i){return AccumulatePeriod+i+1;}).reverse();}GoalMoney=FV(MonthExpense*12,AccumulatePeriod+1)*(Math.pow(1.02,ReceivePeriod)-1)/(1.02-1);var ReceiveYears2=[];if(isNaN(ReceivePeriod)){ReceiveYears2=_toConsumableArray(new Array(0)).map(function(_,i){return AccumulatePeriod+i+1;});}else{ReceiveYears2=_toConsumableArray(new Array(ReceivePeriod)).map(function(_,i){return AccumulatePeriod+i+1;});}var temp_asset=GoalMoney;var temp_invest=GoalMoney;var ReceiveData2=ReceiveYears2.map(function(t){temp_asset=temp_asset-FV(MonthExpense*12,t);// temp_invest = (temp_invest - FV(MonthExpense * 12, t)) * (Pro / 100 + 1);\ntemp_invest=COMPOUND(temp_invest-FV(MonthExpense*12,t),Pro,1);console.log(t,temp_asset);var obj={year:t+\"년\",자산:ROUNDTWO(temp_asset),투자시자산:ROUNDTWO(temp_invest)};return obj;});console.log(ReceiveData2);var SUM=0;var ReceiveData=ReceiveYears.map(function(t){var obj={year:t+\"년\",자산:ROUNDTWO(SUM)};SUM=SUM+FV(MonthExpense*12,t);return obj;});console.log(ReceiveData);console.log(\"한번에 다 더하는 방법\",FV(MonthExpense*12,AccumulatePeriod+1)*(Math.pow(1.02,ReceivePeriod)-1)/(1.02-1));//초기투자금액 복리 계산, 총 계산에서 뺴기 -> exceptP\nexceptP=GoalMoney-COMPOUND(P,Pro,AccumulatePeriod);console.log(\"목표금액-초기투자금액\",exceptP);//exceptP와 적립식 GBI로 년적립금 구하기\nPMT=MUTUAL(exceptP,Pro,AccumulatePeriod);// console.log(\"년 적립금액:\", PMT);\n//적립기간 데이터 만들기\nvar AccumulateYears=Array.from({length:parseInt(AccumulatePeriod)+1},function(_,i){return i;});var AccumulateData=AccumulateYears.map(function(t){return RCompoundContribution(P,PMT,t,Pro);});// console.log(\"적립 기간 데이터:\", AccumulateData);\n// console.log(\"수령 기간 데이터:\", ReceiveData);\n//그래프 데이터 만들기 (합치기, 소팅)\nvar data=[].concat(_toConsumableArray(AccumulateData),_toConsumableArray(ReceiveData2)).sort(function(a,b){return parseInt(a.year)-parseInt(b.year);});// console.log(data);\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"1rem\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:\"0.3rem 0\"},children:\"\\uD83C\\uDFDD \\uC740\\uD1F4 \\uACC4\\uC0B0\\uAE30\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"Description\",style:{marginTop:\"1rem\"},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD604\\uC7AC \\uB098\\uC774\\uB294 \"}),/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\"},children:/*#__PURE__*/_jsx(FormControl,{variant:\"standard\",children:/*#__PURE__*/_jsx(Input,{id:\"PresentAge\",value:PresentAge,onChange:handlePresentAge,inputProps:{pattern:\"[0-9]*\"},size:\"small\",type:\"number\",sx:{width:\"48px\",ml:\"0.5rem\"}})})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC0B4\\uC774\\uACE0, \\uC740\\uD1F4\\uB294\"}),/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\"},children:/*#__PURE__*/_jsx(FormControl,{variant:\"standard\",children:/*#__PURE__*/_jsx(Input,{id:\"RetireAge\",value:RetireAge,onChange:handleRetireAge,inputProps:{pattern:\"[0-9]*\"},type:\"number\",size:\"small\",sx:{width:\"48px\",textAlign:\"right\",ml:\"0.5rem\"}})})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC0B4\\uC5D0 \\uD560 \\uAC83 \\uAC19\\uC544\\uC694.\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC740\\uD1F4 \\uD6C4\\uC5D0\\uB294 \"}),/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\"},children:/*#__PURE__*/_jsx(FormControl,{variant:\"standard\",children:/*#__PURE__*/_jsx(Input,{id:\"ReceivePeriod\",value:ReceivePeriod,onChange:handleReceivePeriod,inputProps:{pattern:\"[0-9]*\"},type:\"number\",size:\"small\",sx:{width:\"48px\",ml:\"0.5rem\"}})})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB144\\uAC04 \\uB9E4\\uC6D4\"}),/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\"},children:/*#__PURE__*/_jsx(FormControl,{variant:\"standard\",children:/*#__PURE__*/_jsx(Input,{id:\"MonthExpense\",value:MonthExpense,onChange:handleMonthExpense,inputProps:{pattern:\"[0-9]*\"},type:\"number\",size:\"small\",sx:{width:\"64px\",textAlign:\"right\",ml:\"0.5rem\"}})})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB9CC\\uC6D0\\uC758 \\uC0DD\\uD65C\\uBE44\\uB85C\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uCD94\\uAC00 \\uC218\\uC785 \\uC5C6\\uC774 \\uC0B4\\uAC70\\uC5D0\\uC694. \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:\"(\\uCD08\\uAE30 \\uD22C\\uC790\\uAE08\\uC740 \"}),/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\"},children:/*#__PURE__*/_jsx(FormControl,{variant:\"standard\",children:/*#__PURE__*/_jsx(Input,{id:\"P\",value:P,onChange:handleP,inputProps:{pattern:\"[0-9]*\"},type:\"number\",size:\"small\",sx:{width:\"64px\",textAlign:\"right\",ml:\"0.5rem\"}})})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB9CC\\uC6D0\\uC774\\uC5D0\\uC694)\"}),/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"#F4F3F4\",width:\"100%\",margin:\"1rem 0\",padding:\"0.5rem 1.2rem\",borderRadius:\"0.8rem\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"0.8rem\"},children:[\"\\uC740\\uD1F4 \\uBAA9\\uD45C\\uB97C \\uC774\\uB8E8\\uAE30 \\uC704\\uD574 \\uB9E4\\uB144 \",/*#__PURE__*/_jsx(\"b\",{children:ROUNDTWO(PMT)}),\"\\uB9CC\\uC6D0\\uC744 \\uB123\\uC5B4\\uC57C\\uD574\\uC694!\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uC740\\uD1F4 \\uBAA9\\uD45C\\uB97C \\uC774\\uB8E8\\uAE30 \\uC704\\uD574 \\uB9E4\\uC6D4 \",/*#__PURE__*/_jsx(\"b\",{children:ROUNDTWO(PMT/12)}),\"\\uB9CC\\uC6D0\\uC744 \\uB123\\uC5B4\\uC57C\\uD574\\uC694!\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uBAA9\\uD45C\\uB294 \",/*#__PURE__*/_jsx(\"b\",{children:AccumulatePeriod}),\"\\uB144\\uAC04 \",/*#__PURE__*/_jsx(\"b\",{children:ROUNDTWO(GoalMoney)}),\"\\uB9CC\\uC6D0 \\uBAA8\\uC73C\\uAE30!!\"]})]})]}),/*#__PURE__*/_jsxs(ComposedChart,{width:400,height:250,margin:{top:20,bottom:20},data:data,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"year\",tick:{fontSize:10},padding:{right:20}}),/*#__PURE__*/_jsx(YAxis,{tick:{fontSize:10},padding:{bottom:10},domain:[\"auto\",\"auto\"],tickFormatter:Formatter}),/*#__PURE__*/_jsx(Tooltip,{formatter:Formatter}),/*#__PURE__*/_jsx(CartesianGrid,{stroke:\"#f4f4f4\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"\\uC790\\uC0B0\",stroke:\"#1D1A82\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"\\uD22C\\uC790\\uC2DC\\uC790\\uC0B0\",stroke:\"#FFB950\"})]})]});}export default Retirement;","map":{"version":3,"sources":["/Users/kwonhyunmin/Documents/GitHub/Investment_Propensity/src/component/Retirement.js"],"names":["React","useState","FormControl","Box","Input","ComposedChart","XAxis","YAxis","Tooltip","CartesianGrid","Line","RCompoundContribution","ROUNDTWO","MUTUAL","FV","COMPOUND","Retirement","Pro","Age","PresentAge","getPresentAge","RetireAge","getRetireAge","ReceivePeriod","getReceivePeriod","MonthExpense","getMonthExpense","P","getP","PMT","GoalMoney","AccumulatePeriod","exceptP","console","log","handlePresentAge","event","parseInt","target","value","handleRetireAge","handleReceivePeriod","handleMonthExpense","handleP","Formatter","tickItem","Money","units","unitIndex","length","toLocaleString","ReceiveYears","isNaN","Array","map","_","i","reverse","ReceiveYears2","temp_asset","temp_invest","ReceiveData2","t","obj","year","자산","투자시자산","SUM","ReceiveData","AccumulateYears","from","AccumulateData","data","sort","a","b","marginTop","margin","display","pattern","width","ml","textAlign","backgroundColor","padding","borderRadius","top","bottom","fontSize","right"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport FormControl from \"@mui/material/FormControl\";\nimport { Box, Input } from \"@mui/material\";\nimport {\n  ComposedChart,\n  XAxis,\n  YAxis,\n  Tooltip,\n  CartesianGrid,\n  Line,\n} from \"recharts\";\nimport { RCompoundContribution } from \"../calculate/Calculator\";\nimport { ROUNDTWO, MUTUAL, FV, COMPOUND } from \"../calculate/Formula\";\n\nfunction Retirement({ Pro, Age }) {\n  const [PresentAge, getPresentAge] = useState(Age); //현재나이\n  const [RetireAge, getRetireAge] = useState(70); //은퇴나이\n  const [ReceivePeriod, getReceivePeriod] = useState(15); //수령기간\n  const [MonthExpense, getMonthExpense] = useState(180); //월 노후 생활비\n  const [P, getP] = useState(0); //초기 투자 금액\n\n  let PMT = 0; //년 적립 금액\n  let GoalMoney = 0; //목표 금액\n  let AccumulatePeriod = RetireAge - PresentAge; //적립기간 (현재 ~ 은퇴 전)\n  let exceptP = 0; //SUM - Compund(P) : 년 적립 금액 구하기 위함\n\n  console.log(\"******은퇴 계산기******\");\n  console.log(\"현재 나이:\", PresentAge);\n  console.log(\"은퇴 연령:\", RetireAge);\n  console.log(\"적립 기간:\", AccumulatePeriod);\n  console.log(\"은퇴 자금 수령 기간:\", ReceivePeriod);\n  console.log(\"월 생활비:\", MonthExpense);\n\n  const handlePresentAge = (event) => { getPresentAge(parseInt(event.target.value)); };\n  const handleRetireAge = (event) => { getRetireAge(parseInt(event.target.value)); };  \n  const handleReceivePeriod = (event) => { getReceivePeriod(parseInt(event.target.value)); };  \n  const handleMonthExpense = (event) => { getMonthExpense(parseInt(event.target.value)); };\n  const handleP = (event) => { getP(parseInt(event.target.value)); };\n  const Formatter = (tickItem) => {\n    let Money = tickItem;\n    const units = [\"만원\", \"억원\"];\n    let unitIndex = 0;\n    while (Money >= 10000 && unitIndex < units.length - 1) {\n      unitIndex += 1;\n      Money /= 10000;\n      Money = ROUNDTWO(Money);\n    }\n    return `${Money.toLocaleString()}${units[unitIndex]}`;\n  };\n\n  //Goal 금액 정하기, 수령기간 데이터 만들기\n  let ReceiveYears = [];\n  if (isNaN(ReceivePeriod)) {\n    ReceiveYears = [...new Array(0)]\n      .map((_, i) => AccumulatePeriod + i + 1)\n      .reverse();\n  }\n  else {\n    ReceiveYears = [...new Array(ReceivePeriod)]\n      .map((_, i) => AccumulatePeriod + i + 1)\n      .reverse();\n  }\n\n  GoalMoney =\n    (FV(MonthExpense * 12, AccumulatePeriod + 1) * (1.02 ** ReceivePeriod - 1)) /\n    (1.02 - 1);\n  let ReceiveYears2 = [];\n  if (isNaN(ReceivePeriod)) {\n    ReceiveYears2 = [...new Array(0)]\n      .map((_, i) => AccumulatePeriod + i + 1)\n  } else {\n    ReceiveYears2 = [...new Array(ReceivePeriod)]\n      .map((_, i) => AccumulatePeriod + i + 1)\n  }\n  let temp_asset = GoalMoney;\n  let temp_invest = GoalMoney;\n  const ReceiveData2 = ReceiveYears2.map(function (t) {\n    temp_asset = temp_asset - FV(MonthExpense * 12, t);\n    // temp_invest = (temp_invest - FV(MonthExpense * 12, t)) * (Pro / 100 + 1);\n    temp_invest = COMPOUND(temp_invest - FV(MonthExpense * 12, t),Pro,1);\n    console.log(t,temp_asset);\n    const obj = {\n      year: t + \"년\",\n      자산: ROUNDTWO(temp_asset),\n      투자시자산: ROUNDTWO(temp_invest),\n    };\n    return obj;\n  })\n  console.log(ReceiveData2);\n  \n  let SUM = 0;\n  const ReceiveData = ReceiveYears.map(function (t) {\n    const obj = {\n      year: t + \"년\",\n      자산: ROUNDTWO(SUM),\n    };\n    SUM = SUM + FV(MonthExpense*12, t);\n    return obj;\n  })\n  console.log(ReceiveData);\n  console.log(\"한번에 다 더하는 방법\",FV(MonthExpense * 12, AccumulatePeriod+1) * (1.02**ReceivePeriod-1)/(1.02-1));\n  //초기투자금액 복리 계산, 총 계산에서 뺴기 -> exceptP\n  exceptP = GoalMoney - COMPOUND(P, Pro, AccumulatePeriod);\n  console.log(\"목표금액-초기투자금액\", exceptP);\n  //exceptP와 적립식 GBI로 년적립금 구하기\n  PMT = MUTUAL(exceptP, Pro, AccumulatePeriod);\n  // console.log(\"년 적립금액:\", PMT);\n  //적립기간 데이터 만들기\n  const AccumulateYears = Array.from(\n    { length: parseInt(AccumulatePeriod) + 1 },\n    (_, i) => i\n  );\n  const AccumulateData = AccumulateYears.map(function (t) {\n    return RCompoundContribution(P, PMT, t, Pro);\n  })\n  // console.log(\"적립 기간 데이터:\", AccumulateData);\n  // console.log(\"수령 기간 데이터:\", ReceiveData);\n  //그래프 데이터 만들기 (합치기, 소팅)\n  const data = [...AccumulateData, ...ReceiveData2].sort(function(a, b) {\n    return parseInt(a.year) - parseInt(b.year);\n  });\n  // console.log(data);\n\n  return (\n    <div style={{ marginTop: \"1rem\" }}>\n      <h3 style={{ margin: \"0.3rem 0\" }}>🏝 은퇴 계산기</h3>\n      <div className=\"Description\" style={{ marginTop: \"1rem\" }}>\n        <span>현재 나이는 </span>\n        <Box sx={{ display: \"flex\" }}>\n          <FormControl variant=\"standard\">\n            <Input\n              id=\"PresentAge\"\n              value={PresentAge}\n              onChange={handlePresentAge}\n              inputProps={{ pattern: \"[0-9]*\" }}\n              size=\"small\"\n              type=\"number\"\n              sx={{ width: \"48px\", ml: \"0.5rem\" }}\n            />\n          </FormControl>\n        </Box>\n        <span>살이고, 은퇴는</span>\n        <Box sx={{ display: \"flex\" }}>\n          <FormControl variant=\"standard\">\n            <Input\n              id=\"RetireAge\"\n              value={RetireAge}\n              onChange={handleRetireAge}\n              inputProps={{ pattern: \"[0-9]*\" }}\n              type=\"number\"\n              size=\"small\"\n              sx={{ width: \"48px\", textAlign: \"right\", ml: \"0.5rem\" }}\n            />\n          </FormControl>\n        </Box>\n        <span>살에 할 것 같아요.</span>\n        <br />\n        <span>은퇴 후에는 </span>\n        <Box sx={{ display: \"flex\" }}>\n          <FormControl variant=\"standard\">\n            <Input\n              id=\"ReceivePeriod\"\n              value={ReceivePeriod}\n              onChange={handleReceivePeriod}\n              inputProps={{ pattern: \"[0-9]*\" }}\n              type=\"number\"\n              size=\"small\"\n              sx={{ width: \"48px\", ml: \"0.5rem\" }}\n            />\n          </FormControl>\n        </Box>\n        <span>년간 매월</span>\n        <Box sx={{ display: \"flex\" }}>\n          <FormControl variant=\"standard\">\n            <Input\n              id=\"MonthExpense\"\n              value={MonthExpense}\n              onChange={handleMonthExpense}\n              inputProps={{ pattern: \"[0-9]*\" }}\n              type=\"number\"\n              size=\"small\"\n              sx={{ width: \"64px\", textAlign: \"right\", ml: \"0.5rem\" }}\n            />\n          </FormControl>\n        </Box>\n        <span>만원의 생활비로</span>\n        <span>추가 수입 없이 살거에요. </span>\n        <br />\n        <span>(초기 투자금은 </span>\n        <Box sx={{ display: \"flex\" }}>\n          <FormControl variant=\"standard\">\n            <Input\n              id=\"P\"\n              value={P}\n              onChange={handleP}\n              inputProps={{ pattern: \"[0-9]*\" }}\n              type=\"number\"\n              size=\"small\"\n              sx={{ width: \"64px\", textAlign: \"right\", ml: \"0.5rem\" }}\n            />\n          </FormControl>\n        </Box>\n        <span>만원이에요)</span>\n        <div\n          style={{\n            backgroundColor: \"#F4F3F4\",\n            width: \"100%\",\n            margin: \"1rem 0\",\n            padding: \"0.5rem 1.2rem\",\n            borderRadius: \"0.8rem\",\n          }}\n        >\n          <div style={{ marginTop: \"0.8rem\" }}>\n            은퇴 목표를 이루기 위해 매년 <b>{ROUNDTWO(PMT)}</b>만원을\n            넣어야해요!\n          </div>\n          <div>\n            은퇴 목표를 이루기 위해 매월 <b>{ROUNDTWO(PMT / 12)}</b>만원을\n            넣어야해요!\n          </div>\n          <div>\n            목표는 <b>{AccumulatePeriod}</b>년간 <b>{ROUNDTWO(GoalMoney)}</b>\n            만원 모으기!!\n          </div>\n        </div>\n      </div>\n\n      <ComposedChart\n        width={400}\n        height={250}\n        margin={{ top: 20, bottom: 20 }}\n        data={data}\n      >\n        <XAxis dataKey=\"year\" tick={{ fontSize: 10 }} padding={{ right: 20 }} />\n        <YAxis\n          tick={{ fontSize: 10 }}\n          padding={{ bottom: 10 }}\n          domain={[\"auto\", \"auto\"]}\n          tickFormatter={Formatter}\n        />\n        <Tooltip formatter={Formatter} />\n        {/* <Legend tick={{ fontSize: 10 }} /> */}\n        <CartesianGrid stroke=\"#f4f4f4\" />\n        <Line type=\"monotone\" dataKey=\"자산\" stroke=\"#1D1A82\" />\n        <Line\n          type=\"monotone\"\n          dataKey=\"투자시자산\"\n          stroke=\"#FFB950\"\n        />\n      </ComposedChart>\n    </div>\n  );\n}\n\nexport default Retirement;\n"]},"metadata":{},"sourceType":"module"}